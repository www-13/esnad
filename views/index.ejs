<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esnad | Home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="/img/idk.jfif">
    <meta name="description" content="Esnad lets you explore and read your favorite books online for free. Enjoy Fiction, History, Technology and more!">
    <meta name="keywords" content="books online, free PDF books, fiction books, technology books, read online, Esnad, library, ebooks, online library, download books, best books, digital books, education books, Arabic books, English books, children's books, science books, literature, novels, storytelling, self-help books, reference books, history books, textbooks, classic books, mystery books, romance books, fantasy books, adventure books, learning, free ebooks, pdf download">
    <meta name="author" content="Adam Abed">
    <meta property="og:title" content="Esnad - Read Books Online for Free">
    <meta property="og:description" content="Explore your favorite books and PDFs online. Join Esnad today!">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2526175659497003" crossorigin="anonymous"></script>
    <meta name="google-adsense-account" content="ca-pub-2526175659497003">
    <meta name="google-site-verification" content="VIq-ChoUhw8vP5JtlBc_h2kZYgvqxGs8-h-qHrNDyg0" />
    
    <style>
        :root {
            --primary-red: #902f36;
            --primary-red-hover: #6b2329;
            --secondary-red: #a03440;
            --light-red: #f8f4f5;
            --accent-gold: #d4af37;
            --text-primary: #0f172a;
            --text-secondary: #334155;
            --text-muted: #64748b;
            --background-primary: #ffffff;
            --background-secondary: #f8fafc;
            --background-tertiary: #f1f5f9;
            --background-dark: #1e293b;
            --border-light: #e2e8f0;
            --border-medium: #cbd5e0;
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.15);
            --radius-sm: 8px;
            --radius-md: 16px;
            --radius-lg: 24px;
            --gradient-primary: linear-gradient(135deg, var(--primary-red) 0%, var(--secondary-red) 100%);
            --gradient-accent: linear-gradient(135deg, var(--accent-gold) 0%, #f4d03f 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Static Background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(144, 47, 54, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(144, 47, 54, 0.05) 0%, transparent 50%);
            z-index: -1;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-light);
            box-shadow: var(--shadow-md);
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .header.scrolled {
            background: rgba(255, 255, 255, 0.98);
            box-shadow: var(--shadow-lg);
        }

        .header-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 80px;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 1rem;
            z-index: 10;
        }

        .logo {
            position: relative;
            transition: transform 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .logo img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            box-shadow: var(--shadow-md);
            transition: all 0.3s ease;
        }

        .logo::after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: var(--gradient-primary);
            border-radius: 50%;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .logo:hover::after {
            opacity: 1;
        }

        .brand-text {
            display: flex;
            flex-direction: column;
        }

        .brand-name {
            font-size: 28px;
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
            letter-spacing: -0.5px;
        }

        .brand-subtitle {
            font-size: 14px;
            color: var(--text-muted);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .header-nav {
            display: flex;
            align-items: center;
            gap: 2.5rem;
        }

        .nav-item {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            font-size: 15px;
            transition: all 0.3s ease;
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius-sm);
            position: relative;
            overflow: hidden;
        }

        .nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--gradient-primary);
            transition: left 0.3s ease;
            z-index: -1;
        }

        .nav-item:hover::before {
            left: 0;
        }

        .nav-item:hover {
            color: white;
            transform: translateY(-2px);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1.5rem;
            background: var(--background-secondary);
            border-radius: var(--radius-md);
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .user-profile::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-primary);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .user-profile:hover::before {
            opacity: 1;
        }

        .user-profile:hover {
            color: white;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .user-profile a {
            color: inherit;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        /* Hero Section */
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        .search-hero {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.9) 100%);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-lg);
            padding: 4rem 3rem;
            margin-bottom: 3rem;
            box-shadow: var(--shadow-xl);
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .search-title {
            font-size: 3.5rem;
            font-weight: 900;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1.5rem;
            letter-spacing: -2px;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .search-subtitle {
            font-size: 1.25rem;
            color: var(--text-secondary);
            margin-bottom: 3rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.7;
            font-weight: 500;
        }

        .search-container {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }

        .search-box {
            display: flex;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 2px solid var(--border-light);
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            transition: all 0.3s ease;
            position: relative;
        }

        .search-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-primary);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .search-box:focus-within {
            border-color: var(--primary-red);
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(144, 47, 54, 0.2);
        }

        .search-box:focus-within::before {
            opacity: 0.1;
        }

        .search-input {
            flex: 1;
            padding: 1.5rem 2rem;
            border: none;
            outline: none;
            font-size: 18px;
            color: var(--text-primary);
            font-weight: 500;
            background: transparent;
        }

        .search-input::placeholder {
            color: var(--text-muted);
            font-style: italic;
        }

        .search-filters {
            display: flex;
            border-left: 1px solid var(--border-light);
        }

        #categorySelect {
            padding: 1.5rem 1.5rem;
            border: none;
            outline: none;
            background: transparent;
            font-size: 16px;
            color: var(--text-secondary);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 180px;
        }

        #categorySelect:hover {
            background: rgba(144, 47, 54, 0.1);
            color: var(--primary-red);
        }

        .search-button {
            padding: 1.5rem 2.5rem;
            background: var(--gradient-primary);
            color: white;
            border: none;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .search-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .search-button:hover::before {
            left: 100%;
        }

        .search-button:hover {
            transform: translateX(4px);
            box-shadow: var(--shadow-lg);
        }

        /* Content Section */
        .content-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-xl);
            border: 1px solid rgba(255, 255, 255, 0.2);
            overflow: hidden;
            position: relative;
        }

        .section-header {
            padding: 3rem 3rem 2rem;
            background: linear-gradient(135deg, var(--background-secondary) 0%, rgba(144, 47, 54, 0.05) 100%);
            border-bottom: 1px solid var(--border-light);
            position: relative;
            overflow: hidden;
        }

        .section-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 0.75rem;
            letter-spacing: -1px;
        }

        .section-subtitle {
            font-size: 1.125rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* Books Grid */
        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
            padding: 2.5rem 2rem;
        }

        .book-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-md);
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            border: 1px solid rgba(255, 255, 255, 0.3);
            position: relative;
        }

        /* .book-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-primary);
            opacity: 0;
            transition: opacity 0.4s ease;
            z-index: -1;
        } */
/* 
        .book-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 50px rgba(144, 47, 54, 0.3);
        } */

        /* .book-card:hover::before {
            opacity: 0.05;
        } */

        .book-cover {
            height: 320px;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, var(--background-tertiary) 0%, var(--background-secondary) 100%);
        }

        .book-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        /* .book-card:hover .book-image {
            transform: scale(1.05);
        } */

        .book-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: var(--gradient-primary);
            color: white;
            font-size: 18px;
            font-weight: 600;
            text-align: center;
            padding: 2rem;
        }

        .book-placeholder i {
            font-size: 64px;
            margin-bottom: 1rem;
            opacity: 0.9;
        }

        .book-info {
            padding: 2rem;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .book-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.75rem;
            height: 60px;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            line-height: 1.4;
            letter-spacing: -0.5px;
        }

        .book-author {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 1rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .book-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .book-category {
            background: var(--gradient-accent);
            color: var(--text-primary);
            padding: 0.5rem 1rem;
            border-radius: var(--radius-sm);
            font-weight: 700;
            text-transform: uppercase;
            font-size: 11px;
            letter-spacing: 1px;
            box-shadow: var(--shadow-sm);
        }

        .read-button {
            display: block;
            padding: 1rem 2rem !important;
            background: var(--gradient-primary) !important;
            color: white !important;
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            width: 100% !important;
            text-decoration: none;
            font-weight: 700;
            font-size: 16px;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .read-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .read-button:hover::before {
            left: 100%;
        }

        .read-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Library Info */
        .library-info {
            padding: 2.5rem 3rem;
            background: linear-gradient(135deg, var(--background-secondary) 0%, rgba(144, 47, 54, 0.05) 100%);
            border-top: 1px solid var(--border-light);
            text-align: center;
        }

        .library-motto {
            font-size: 1.125rem;
            color: var(--text-secondary);
            font-style: italic;
            font-weight: 500;
            position: relative;
            max-width: 600px;
            margin: 0 auto;
        }

        .library-motto::before,
        .library-motto::after {
            content: '"';
            font-size: 3rem;
            color: var(--primary-red);
            font-weight: 700;
            position: absolute;
            top: -10px;
        }

        .library-motto::before {
            left: -30px;
        }

        .library-motto::after {
            right: -30px;
        }

        /* Loading and No Results */
        .loading, .no-results {
            text-align: center;
            padding: 5rem 2rem;
            grid-column: 1 / -1;
        }

        .loading-spinner {
            display: inline-block;
            width: 60px;
            height: 60px;
            border: 6px solid var(--border-light);
            border-radius: 50%;
            border-top: 6px solid var(--primary-red);
            animation: spin 1s linear infinite;
            margin-bottom: 2rem;
        }

        .no-results-icon {
            font-size: 80px;
            margin-bottom: 1.5rem;
            opacity: 0.3;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        .no-results-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
            color: var(--text-secondary);
        }

        /* Footer */
        footer {
            background: var(--background-dark);
            margin-top: 4rem;
            position: relative;
            overflow: hidden;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
        }

        footer .content {
            max-width: 1400px;
            margin: auto;
            padding: 3rem 2.5rem;
        }

        footer .content .top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 3rem;
        }

        .content .top .logo-details {
            color: #fff;
            font-size: 2rem;
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .content .top .media-icons {
            display: flex;
            gap: 1rem;
        }

        .content .top .media-icons a {
            height: 50px;
            width: 50px;
            border-radius: 50%;
            text-align: center;
            line-height: 50px;
            color: #fff;
            font-size: 18px;
            text-decoration: none;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .top .media-icons a:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: var(--shadow-lg);
        }

        .top .media-icons a:nth-child(1):hover { background: #4267B2; }
        .top .media-icons a:nth-child(2):hover { background: #1DA1F2; }
        .top .media-icons a:nth-child(3):hover { background: #E1306C; }
        .top .media-icons a:nth-child(4):hover { background: var(--primary-red); }

        footer .content .link-boxes {
            display: flex;
            justify-content: space-between;
            gap: 3rem;
        }

        footer .content .link-boxes .box {
            flex: 1;
        }

        .content .link-boxes .box .link_name {
            color: #fff;
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 1rem;
            position: relative;
        }

        .link-boxes .box .link_name::before {
            content: '';
            position: absolute;
            left: 0;
            bottom: -5px;
            height: 3px;
            width: 40px;
            background: var(--gradient-primary);
            border-radius: 2px;
        }

        .content .link-boxes .box li {
            margin: 0.75rem 0;
            list-style: none;
        }

        .content .link-boxes .box li a {
            color: rgba(255, 255, 255, 0.8);
            font-size: 15px;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .content .link-boxes .box li a:hover {
            color: #fff;
            transform: translateX(5px);
        }

        footer .bottom-details {
            background: rgba(0, 0, 0, 0.2);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        footer .bottom-details .bottom_text {
            max-width: 1400px;
            margin: auto;
            padding: 1.5rem 2.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .bottom-details .bottom_text span,
        .bottom-details .bottom_text a {
            font-size: 14px;
            font-weight: 400;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .bottom-details .bottom_text a:hover {
            color: #fff;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .search-title {
                font-size: 2.5rem;
            }
            
            .books-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 1.5rem;
                padding: 2rem 1.5rem;
            }
            
            .header-nav {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .search-box {
                flex-direction: column;
            }
            
            .search-filters {
                border-left: none;
                border-top: 1px solid var(--border-light);
            }
            
            .search-title {
                font-size: 2rem;
            }
            
            .main-container {
                padding: 2rem 1rem;
            }
            
            .search-hero {
                padding: 2.5rem 2rem;
            }
            
            .books-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 1.5rem;
                padding: 2rem 1.5rem;
            }
        }

        @media (max-width: 520px) {
            .user-profile span {
                display: none;
            }
            
            .brand-name {
                font-size: 24px;
            }
            
            .search-title {
                font-size: 1.75rem;
            }
            
            .books-grid {
                grid-template-columns: 1fr;
            }
            
            #imggg {
                display: none;
            }
        }

        /* Scroll animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeInUp 0.6s ease-out;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--background-tertiary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gradient-primary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-red-hover);
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-container">
            <div class="logo-section">
                <div class="logo"><img style="border-radius: 50%;" width="60px" src="/img/idk.jfif"></div>
                <div class="brand-text">
                    <div class="brand-name">Esnad</div>
                    <div class="brand-subtitle">No Risk No Story!</div>
                </div>
            </div>
            <nav class="header-nav">
                <a style="color: #902f36 !important;" href="/index" class="nav-item">Home</a>
                <a href="/profile" class="nav-item">Profile</a>
                <a href="#" class="nav-item">Contact</a>
                <a href="/logout" class="nav-item">Logout</a>
                <a href="/login" class="nav-item">Login</a>
            </nav>
            <div class="user-profile">
                <a href="/profile" style="text-decoration: none; color: inherit;"><%= userName %></a>
            </div>
        </div>
    </header>

    <main class="main-container">
        <section class="search-hero">
            <h1 class="search-title">Digital Knowledge Hub</h1>
            <p class="search-subtitle">Discover, explore, and immerse yourself in our vast collection of digital books and resources</p>
            
            <div class="search-container">
                <div class="search-box">
                    <input type="text" id="searchInput" class="search-input" placeholder="Search by title, author, or keyword..." />
                    <div class="search-filters">
                        <select id="categorySelect">
                            <option value="all">All Categories</option>
                            <option value="fiction">Fiction</option>
                            <option value="science fiction">Science Fiction</option>
                            <option value="mystery">Mystery</option>
                            <option value="romance">Romance</option>
                            <option value="fantasy">Fantasy</option>
                            <option value="history">History</option>
                            <option value="biography">Biography</option>
                            <option value="self help">Self Help</option>
                            <option value="technology">Technology</option>
                            <option value="travel">Travel</option>
                            <option value="health">Health</option>
                            <option value="business">Business</option>
                        </select>
                    </div>
                    <button class="search-button" id="searchButton">
                        <i class="fas fa-search"></i>
                        Search
                    </button>
                </div>
            </div>
        </section>

        <section class="content-section">
            <div class="section-header">
                <h2 class="section-title">Featured Collection</h2>
                <p class="section-subtitle">Curated selection of premium digital resources and bestselling titles</p>
            </div>

            <div class="books-grid" id="booksGrid">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>Loading your digital library...</p>
                </div>
            </div>

            <div class="library-info">
                <div class="library-motto">
                    Knowledge is the treasure of a wise man - Preserving wisdom for future generations
                </div>
            </div>
        </section>
    </main>

    <footer id="footer">
        <div class="content">
          <div class="top">
            <div class="logo-details">
              <span class="logo_name">Esnad</span>
            </div>
            <div class="media-icons">
              <a href="#"><i class="fab fa-facebook-f"></i></a>
              <a href="https://x.com/EsnadLib"><i class="fab fa-x-twitter"></i></a>
              <a href="#"><i class="fab fa-instagram"></i></a>
              <a href="https://www.youtube.com/@esnadlib"><i class="fab fa-youtube"></i></a>
            </div>
          </div>
          <div class="link-boxes">
            <ul class="box">
                <img id="imggg" style="border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.3);" width="200px" src="/img/idk.jfif" alt="">
            </ul>
            <ul class="box">
              <li class="link_name">Navigation</li>
              <li><a href="/index">Home</a></li>
              <li><a href="#footer">Contact</a></li>
              <li><a href="/profile">Profile</a></li>
              <li><a href="/logout">Logout</a></li>
            </ul>
            <ul class="box">
              <li class="link_name">Get in Touch</li>
              <li><a href="https://wa.link/e3ezdq">WhatsApp</a></li>
              <li><a href="#">esnadlib@gmail.com</a></li>
              <li><a href="#">Instagram</a></li>
              <li><a href="#">Facebook</a></li>
            </ul>
          </div>
        </div>
        <div class="bottom-details">
          <div class="bottom_text">
            <span class="copyright_text">Copyright ¬© 2025 <a href="#">Esnad.</a> All rights reserved</span>
            <span class="policy_terms">
              <a href="#">Privacy Policy</a>
              <a href="#">Terms & Conditions</a>
            </span>
          </div>
        </div>
    </footer>

    <script>
        let booksData = [];
        let filteredBooks = [];

        // Header scroll effect
        window.addEventListener('scroll', () => {
            const header = document.querySelector('.header');
            if (window.scrollY > 100) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Fetch books from API
        async function fetchBooksFromDatabase() {
            try {
                const response = await fetch('/api/books');
                if (!response.ok) throw new Error('Network response was not ok');
                booksData = await response.json();
                filteredBooks = booksData;
                renderBooks();
            } catch (error) {
                console.error('Failed to fetch books:', error);
                document.getElementById('booksGrid').innerHTML = `
                    <div class="no-results">
                        <div class="no-results-icon">‚ö†Ô∏è</div>
                        <div class="no-results-title">Connection Error</div>
                        <p>Unable to load books. Please check your connection and try again.</p>
                    </div>
                `;
            }
        }

        // Render books grid with enhanced animations
        function renderBooks() {
            const booksGrid = document.getElementById('booksGrid');
            
            if (!filteredBooks.length) {
                booksGrid.innerHTML = `
                    <div class="no-results fade-in">
                        <div class="no-results-icon">üìö</div>
                        <div class="no-results-title">No books found</div>
                        <p>Try adjusting your search criteria or browse all categories</p>
                    </div>
                `;
                return;
            }

            booksGrid.innerHTML = '';

            filteredBooks.forEach((book, index) => {
                const bookCard = document.createElement('div');
                bookCard.className = 'book-card fade-in';
                bookCard.style.animationDelay = `${index * 0.1}s`;
                bookCard.innerHTML = `
                    <div class="book-cover">
                        ${book.image ? 
                            `<img src="${book.image}" alt="${book.title}" class="book-image">` : 
                            `<div class="book-placeholder">
                                <i class="fas fa-book"></i>
                                <span>${book.title.substring(0, 30)}${book.title.length > 30 ? '...' : ''}</span>
                            </div>`
                        }
                    </div>
                    <div class="book-info">
                        <h3 class="book-title">${book.title}</h3>
                        <div class="book-author">${book.author || 'Unknown Author'}</div>
                        <div class="book-meta">
                            <span class="book-category">${book.category}</span>
                        </div>
                        <a href="/book/${book._id}" class="read-button">
                            <i class="fas fa-book-open"></i>
                            Read Now
                        </a>
                    </div>
                `;

                // Add hover effect for book cards
                bookCard.addEventListener('mouseenter', () => {
                    bookCard.style.transform = 'translateY(-12px) rotateX(5deg)';
                });

                bookCard.addEventListener('mouseleave', () => {
                    bookCard.style.transform = 'translateY(0) rotateX(0deg)';
                });

                booksGrid.appendChild(bookCard);
            });
        }

        // Enhanced search functionality
        function performSearch() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();
            const selectedCategory = document.getElementById('categorySelect').value.toLowerCase();

            // Show loading state during search
            if (searchTerm || selectedCategory !== 'all') {
                const booksGrid = document.getElementById('booksGrid');
                booksGrid.innerHTML = `
                    <div class="loading fade-in">
                        <div class="loading-spinner"></div>
                        <p>Searching library...</p>
                    </div>
                `;

                // Simulate search delay for better UX
                setTimeout(() => {
                    filteredBooks = booksData.filter(book => {
                        const matchesSearch = !searchTerm || 
                            (book.title && book.title.toLowerCase().includes(searchTerm)) || 
                            (book.author && book.author.toLowerCase().includes(searchTerm)) ||
                            (book.description && book.description.toLowerCase().includes(searchTerm));

                        const matchesCategory = selectedCategory === 'all' || 
                            (book.category && book.category.toLowerCase() === selectedCategory);

                        return matchesSearch && matchesCategory;
                    });

                    renderBooks();
                }, 300);
            } else {
                filteredBooks = booksData;
                renderBooks();
            }
        }

        // Search input enhancements
        function setupSearchEnhancements() {
            const searchInput = document.getElementById('searchInput');
            const searchButton = document.getElementById('searchButton');
            const categorySelect = document.getElementById('categorySelect');

            // Real-time search with debouncing
            let searchTimeout;
            searchInput.addEventListener('input', () => {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(performSearch, 300);
            });

            // Enhanced search button interaction
            searchButton.addEventListener('click', performSearch);
            
            // Category change handler
            categorySelect.addEventListener('change', performSearch);

            // Enter key search
            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });

            // Search box focus effects
            const searchBox = document.querySelector('.search-box');
            searchInput.addEventListener('focus', () => {
                searchBox.style.transform = 'translateY(-4px)';
            });

            searchInput.addEventListener('blur', () => {
                if (!searchInput.value) {
                    searchBox.style.transform = 'translateY(0)';
                }
            });
        }

        // Intersection Observer for scroll animations
        function setupScrollAnimations() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                    }
                });
            }, observerOptions);

            // Observe elements that should animate on scroll
            document.querySelectorAll('.book-card, .section-header, .library-info').forEach(el => {
                observer.observe(el);
            });
        }

        // Enhanced initialization
        document.addEventListener('DOMContentLoaded', () => {
            fetchBooksFromDatabase();
            setupSearchEnhancements();
            setupScrollAnimations();

            // Add smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Add loading completion effect
            window.addEventListener('load', () => {
                document.body.style.opacity = '1';
                document.body.style.transform = 'translateY(0)';
            });
        });

        // Performance optimization: Lazy loading for images
        function setupLazyLoading() {
            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.dataset.src;
                        img.classList.remove('lazy');
                        observer.unobserve(img);
                    }
                });
            });

            document.querySelectorAll('img[data-src]').forEach(img => {
                imageObserver.observe(img);
            });
        }

        // Call lazy loading setup after books are rendered
        const originalRenderBooks = renderBooks;
        renderBooks = function() {
            originalRenderBooks.call(this);
            setTimeout(setupLazyLoading, 100);
        };
    </script>
</body> 
</html>
