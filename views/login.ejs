<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Esnad | login & signup</title>
    <link rel="stylesheet" href="/css/login.css"/>
    <link rel="icon" href="/img/idk.jfif">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2526175659497003"
    crossorigin="anonymous"></script>
    <meta name="google-adsense-account" content="ca-pub-2526175659497003">

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FH1GSEHCJG"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FH1GSEHCJG');
</script>

</head>
<body>
    <div class="main-container">

        <!-- Left Panel -->
        <div class="left-panel">
            <div class="brand-content">
                <div class="brand-logo"><img width="100px" style="border-radius: 20px;" src="/img/idk.jfif" alt="esnad logo"></div>
                <h1 class="brand-title">Welcome Back!</h1>
                <p class="brand-subtitle">To keep connected with us please login with your personal info</p>
                <a href="#" class="welcome-btn" onclick="switchToLogin()">SIGN IN</a>
            </div>
        </div>

        <!-- Right Panel -->
        <div class="right-panel">
            <!-- <div class="floating-books">
                <% for (let i = 0; i < 9; i++) { %>
                    <div class="book"></div>
                <% } %>
            </div> -->

            <div class="container">
                <!-- Error Messages -->
                <% if (signupError) { %>
                    <div class="error-message" style="display: block;"><%= signupError %></div>
                <% } %>
                <% if (loginError) { %>
                    <div class="error-message" style="display: block;"><%= loginError %></div>
                <% } %>

                <!-- Forms -->
                <% if (!showFavoriteTopics) { %>
                    <!-- Login Form -->
                    <div id="login-form" class="form">
                        <div class="form-header">
                            <h2 class="form-title">Sign In</h2>
                            <p class="form-subtitle">Welcome back to Esnad</p>
                        </div>
                        
                        <form action="/login" method="POST">
                            <div class="form-group">
                                <input type="email" name="email" id="login-email" placeholder="Email" required />
                                <span class="input-icon">‚úâ</span>
                            </div>
                            <div class="form-group">
                                <input type="password" name="password" id="login-password" placeholder="Password" required />
                                <span class="input-icon">üîí</span>
                            </div>
                            <button type="submit" class="btn">SIGN IN</button>
                        </form>
                        
                        <div class="form-switch">
                            Don't have an account? <a href="#" onclick="switchForm()">Create Account</a>
                        </div>
                        
                        <div class="divider"><span>or</span></div>
                        
                        <form action="/guest" method="GET">
                            <button type="submit" class="btn guest-btn">Continue as Guest</button>
                        </form>
                    </div>

                    <!-- Signup Form -->
                    <div id="signup-form" class="form active">
                        <div class="form-header">
                            <h2 class="form-title">Create Account</h2>
                            <p class="form-subtitle">or use your email for registration</p>
                        </div>
                        
                        <form action="/signup" method="POST">
                            <div class="form-group">
                                <input type="text" name="name" id="signup-name" placeholder="Name" required />
                                <span class="input-icon">üë§</span>
                            </div>
                            <div class="form-group">
                                <input type="email" name="email" id="signup-email" placeholder="Email" required />
                                <span class="input-icon">‚úâ</span>
                            </div>
                            <div class="form-group">
                                <input type="password" name="password" id="signup-password" placeholder="Password" required />
                                <span class="input-icon">üîí</span>
                            </div>
                            <button type="submit" class="btn">SIGN UP</button>
                        </form>
                        
                        <div class="form-switch">
                            Already have an account? <a href="#" onclick="switchForm()">Sign In</a>
                        </div>
                    </div>
                <% } %>

                <!-- Topics Selection -->
                <% if (showFavoriteTopics) { %>
                    <div id="favorite-topics-form" class="form active">
                        <div class="form-header">
                            <h2 class="form-title">Choose Your Interests</h2>
                            <p class="form-subtitle">Select topics that interest you to get personalized recommendations</p>
                        </div>
                        
                        <form action="/favorite-topics" method="POST">
                            <div class="topics-grid">
                                <label class="topic-card">
                                    <input type="checkbox" name="topics" value="Fiction" />
                                    <div class="topic-content">
                                        <span class="topic-icon">üìö</span>
                                        <span class="topic-name">Fiction</span>
                                    </div>
                                </label>
                                
                                <label class="topic-card">
                                    <input type="checkbox" name="topics" value="Science Fiction" />
                                    <div class="topic-content">
                                        <span class="topic-icon">üöÄ</span>
                                        <span class="topic-name">Science Fiction</span>
                                    </div>
                                </label>
                                
                                <label class="topic-card">
                                    <input type="checkbox" name="topics" value="Mystery" />
                                    <div class="topic-content">
                                        <span class="topic-icon">üîç</span>
                                        <span class="topic-name">Mystery</span>
                                    </div>
                                </label>
                                
                                <label class="topic-card">
                                    <input type="checkbox" name="topics" value="Romance" />
                                    <div class="topic-content">
                                        <span class="topic-icon">üíï</span>
                                        <span class="topic-name">Romance</span>
                                    </div>
                                </label>
                                
                                <label class="topic-card">
                                    <input type="checkbox" name="topics" value="Fantasy" />
                                    <div class="topic-content">
                                        <span class="topic-icon">üêâ</span>
                                        <span class="topic-name">Fantasy</span>
                                    </div>
                                </label>
                                
                                <label class="topic-card">
                                    <input type="checkbox" name="topics" value="History" />
                                    <div class="topic-content">
                                        <span class="topic-icon">‚è≥</span>
                                        <span class="topic-name">History</span>
                                    </div>
                                </label>
                                
                                <label class="topic-card">
                                    <input type="checkbox" name="topics" value="Biography" />
                                    <div class="topic-content">
                                        <span class="topic-icon">üë§</span>
                                        <span class="topic-name">Biography</span>
                                    </div>
                                </label>
                                
                                <label class="topic-card">
                                    <input type="checkbox" name="topics" value="Self Help" />
                                    <div class="topic-content">
                                        <span class="topic-icon">üí™</span>
                                        <span class="topic-name">Self Help</span>
                                    </div>
                                </label>
                                
                                <label class="topic-card">
                                    <input type="checkbox" name="topics" value="Technology" />
                                    <div class="topic-content">
                                        <span class="topic-icon">üíª</span>
                                        <span class="topic-name">Technology</span>
                                    </div>
                                </label>
                                
                                <label class="topic-card">
                                    <input type="checkbox" name="topics" value="Travel" />
                                    <div class="topic-content">
                                        <span class="topic-icon">‚úàÔ∏è</span>
                                        <span class="topic-name">Travel</span>
                                    </div>
                                </label>
                                
                                <label class="topic-card">
                                    <input type="checkbox" name="topics" value="Health" />
                                    <div class="topic-content">
                                        <span class="topic-icon">üè•</span>
                                        <span class="topic-name">Health</span>
                                    </div>
                                </label>
                                
                                <label class="topic-card">
                                    <input type="checkbox" name="topics" value="Business" />
                                    <div class="topic-content">
                                        <span class="topic-icon">üíº</span>
                                        <span class="topic-name">Business</span>
                                    </div>
                                </label>
                            

                            </div>
                            
                            <button type="submit" class="btn">CONTINUE</button>
                        </form>
                    </div>
                <% } %>
            </div>
        </div>
    </div>

    <script>
        function switchForm() {
            document.querySelector('#login-form').classList.toggle('active');
            document.querySelector('#signup-form').classList.toggle('active');
        }

        function switchToLogin() {
            document.querySelector('#signup-form').classList.remove('active');
            document.querySelector('#login-form').classList.add('active');
        }

        document.querySelectorAll('.topic-card input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                if (this.checked) {
                    this.parentElement.classList.add('selected');
                } else {
                    this.parentElement.classList.remove('selected');
                }
            });
        });

        document.addEventListener('contextmenu', e => e.preventDefault());
    </script>
</body>
</html>